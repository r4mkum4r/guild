<script>
    // Set up EG with EG from server
    window.EG = {{json EG}} || {};

    // Set up uitk with uitk from server (the rest of uitk is merged by uitk.js)
    window.uitk = {{json uitk}} || {};

    // Need to set this before any lib tries to do i18n. I18n.js has been modified as a result.
    var I18n = I18n || {};
    I18n.locale = EG.currentLocale;
</script>

{{{includeJsBundle bundleName="uitk-required-libs" hostedAssetPath=uitkHostedAssetPath}}}
{{{includeJsBundle bundleName="uitk-backbone" hostedAssetPath=uitkHostedAssetPath}}}
{{{includeJsBundle bundleName="uitk-handlebars" hostedAssetPath=uitkHostedAssetPath}}}
{{{includeJsBundle bundleName="uitk-core" hostedAssetPath=uitkHostedAssetPath}}}

{{i18nJs EG.currentLocale}}

{{{includeJsBundle bundleName="uitk-libs" hostedAssetPath=uitkHostedAssetPath}}}
{{{includeJsBundle bundleName="uitk-vendors" hostedAssetPath=uitkHostedAssetPath}}}
{{{includeJsBundle bundleName="uitk-core-app" hostedAssetPath=uitkHostedAssetPath}}}
{{{includeJsBundle bundleName="uitk-analytics" hostedAssetPath=uitkHostedAssetPath}}}

{{#if glassbox}}
    <script src='https://cdnil.clarisite.com/egencia/detector-dom.min.js' id='_cls_detector' data-clsconfig='reportURI=https://report.egencia.glassboxdigital.io/glassbox/reporting/92567D9E-8C6C-0846-8C2A-C71818A7C0D8/cls_report;maskingMode=whitelist;maskClassList=replay-safe;recordScrolls=true;recordMouseMoves=true'></script>
{{/if}}